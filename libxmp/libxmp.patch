diff --git a/src/tempfile.c b/src/tempfile.c
index ac7af63b..8bb3a33c 100644
--- a/src/tempfile.c
+++ b/src/tempfile.c
@@ -103,6 +103,14 @@ static int get_temp_dir(char *buf, size_t size)
 
 	return 0;
 }
+#elif defined __vita__
+
+static int get_temp_dir(char *buf, size_t size)
+{
+	strncpy(buf, "ux0:/data/tmp/", size);
+
+	return 0;
+}
 
 #else /* unix */
 
@@ -122,6 +130,31 @@ static int get_temp_dir(char *buf, size_t size)
 #endif
 
 
+#if defined __vita__
+
+FILE *make_temp_file(char **filename) {
+	char tmp[XMP_MAXPATH];
+	char tmpfilename[128];
+	FILE *tempfd;
+
+	if (get_temp_dir(tmp, XMP_MAXPATH) < 0)
+		return NULL;
+
+	snprintf(tmpfilename, 128, "xmp_%06x", rand() % 0xFFFFFF);
+	strncat(tmp, tmpfilename, XMP_MAXPATH - 10);
+
+	if ((*filename = libxmp_strdup(tmp)) == NULL)
+		return NULL;
+	if ((tempfd = fopen(tmp, "w+b")) == NULL)
+	{
+		free(*filename);
+	}
+
+	return tempfd;
+}
+
+# else
+
 FILE *make_temp_file(char **filename) {
 	char tmp[XMP_MAXPATH];
 	FILE *temp;
@@ -154,6 +187,8 @@ FILE *make_temp_file(char **filename) {
 	return NULL;
 }
 
+#endif
+
 /*
  * Windows doesn't allow you to unlink an open file, so we changed the
  * temp file cleanup system to remove temporary files after we close it
